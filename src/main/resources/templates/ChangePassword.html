<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>修改密码</title>
    <script th:src="@{/js/jquery-1.8.0.min.js}"></script>
</head>
<body>
<h2>修改密码</h2>

<input  type="hidden" id="id" th:value="${user.id}"><br><br>
请输入密码：<input type="password" id="password" placeholder="请输入密码"/><br><br>
请确认密码：<input type="password" id="passwordTwo" placeholder="请确认密码"/><br><br>

<button onclick="changePasswd()">注册</button>
<button  name="button"  onclick="javascript:history.back(-1);">返回</button>
</body>
<script>
    function changePasswd() {
        var id = $("#id").val();
        var password1 = $("#password").val();
        var password2 = $("#passwordTwo").val();
        if (Number(password1) == Number(password2)) {
            $.post("/changePasswd", {id: id,password: password1}, function (res) {
                if (res == true) {
                    alert("修改成功");
                    window.location.href = "/login";
                } else {
                    alert("注册失败，请检查数据重试");
                }
            })
        } else {
            alert("两次密码不一致！");
        }
    }
</script>

</html>